---
import SeoLayout from '../../layouts/SeoLayout.astro';
import Navbar from '../../components/Navbar.astro';
import Footer from '../../components/Footer.astro';
import RelatedPosts from '../../components/RelatedPosts.astro';
import SchemaOrg from '../../components/SchemaOrg.astro';
import { blogPosts } from '../../data/blogPosts';

export function getStaticPaths() {
  return blogPosts.map((post) => ({
    params: { slug: post.slug },
    props: { post }
  }));
}

const { post } = Astro.props;
---

<SeoLayout
  title={`${post.title} | EXYU IPTV Blog`}
  description={post.excerpt}
  canonicalURL={`https://exyukanali.tv/blog/${post.slug}/`}
  type="article"
  publishedTime={new Date(post.date).toISOString()}
>
  <Navbar />
  <SchemaOrg
    type="BlogPosting"
    data={{
      title: post.title,
      description: post.excerpt,
      url: `https://exyukanali.tv/blog/${post.slug}/`,
      pubDate: post.date,
      updatedDate: post.date,
      image: 'https://exyukanali.tv/og-image.jpg',
      author: 'EXYU Kanali TV'
    }}
  />

  <main class="pt-24 pb-20 bg-white min-h-screen">
    <article class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
      <nav class="flex items-center gap-2 text-sm text-gray-500 mb-8">
        <a href="/" class="hover:text-blue-600">Pocetna</a>
        <span>/</span>
        <a href="/blog/" class="hover:text-blue-600">Blog</a>
        <span>/</span>
        <span class="text-gray-900">{post.title}</span>
      </nav>

      <header class="mb-12">
        <div class="flex items-center gap-4 mb-4">
          <span class="px-3 py-1 bg-blue-100 text-blue-600 text-sm font-semibold rounded-full">
            {post.category}
          </span>
          <time datetime={post.date} class="text-gray-500 text-sm">
            {new Date(post.date).toLocaleDateString('de-DE')}
          </time>
          <span class="text-gray-500 text-sm">â€¢</span>
          <span class="text-gray-500 text-sm">{post.readTime} citanja</span>
        </div>
        <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">
          {post.title}
        </h1>
      </header>

      <div class="prose prose-lg max-w-none text-gray-700">
        <p class="lead">{post.excerpt}</p>

        <h2>Priprema</h2>
        <p>Prije nego sto pocnete s instalacijom, provjerite da imate:</p>
        <ul>
          <li>aktivan EXYU IPTV racun</li>
          <li>stabilnu internet konekciju</li>
          <li>podrzanu aplikaciju na uredaju</li>
        </ul>

        <h2>Korak 1: Preuzimanje aplikacije</h2>
        <p>Otvorite trgovinu aplikacija na svom uredaju i pretrazite preporucenu IPTV aplikaciju.</p>

        <h2>Korak 2: Instalacija</h2>
        <p>Pokrenite instalaciju i pricekajte da se aplikacija u potpunosti instalira.</p>

        <h2>Korak 3: Konfiguracija</h2>
        <p>Unesite pristupne podatke koje ste dobili nakon narudzbe i testirajte reprodukciju kanala.</p>

        <h2>Zakljucak</h2>
        <p>{post.content}</p>
      </div>

      <div class="mt-12 pt-8 border-t border-gray-200">
        <p class="font-semibold text-gray-900 mb-4">Podijelite ovaj clanak:</p>
        <div class="flex gap-4">
          <a
            href={`https://wa.me/4915251741280?text=${encodeURIComponent(post.title)}`}
            class="px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors"
          >
            WhatsApp
          </a>
          <a
            href="#"
            data-mailto-subject={post.title}
            data-mailto-body={post.excerpt}
            class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors"
          >
            Email
          </a>
        </div>
      </div>

      <RelatedPosts currentSlug={post.slug} currentCategory={post.category} />

      <div class="mt-12">
        <a href="/blog/" class="inline-flex items-center gap-2 text-blue-600 font-semibold hover:gap-3 transition-all">
          &larr; Nazad na blog
        </a>
      </div>
    </article>
  </main>

  <Footer />
</SeoLayout>
